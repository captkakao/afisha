---

## Ошибки

При выполнении некорректного запроса к системе, наш API может вернуть ошибки. \
Мы описали возможные ответы и ошибки.

При возникновении ошибки, тело ответа будет содержать два обязательных поля:

- **error_message** - текст этого поля более подробно описывает ошибку для программиста, использующего API. \
  Но, при необходимости, этот текст также можно отображать в пользовательском интерфейсе. \
  Язык этого поля зависит от переданного параметра **Language** в header запроса.
- **error_type** - slug ошибки. Техническая информация, которая необходима для обработки ошибки кодом клиента API.
- Также для разных ситуаций/запросов тело может содержать и другие дополнительные поля. \
  Так, например, при ошибке валидации, помимо полей *error_message* и *error_type*, тело ответа также содержит поле *
  validation_errors*.

**Пример тела ответа при попытке отправки кода валидации на почту пользователя:**

```json
{
  "error_message": "Произошла ошибка при отправке E-Mail",
  "error_type": "email_sending"
}
```

### Ошибка валидации данных

При возникновении ошибки валидации данных сервер вернет **код ответа 422 Unprocessable Entity**. \
При этом, поле **error_type** будет содержать значение **validation**. \
Также в теле ответа будет передано поле **validation_errors**, содержащее информацию о том, какое поле введено неверно,
а также массив с текстом ошибок.
> Язык текста ошибок зависит от переданного header-параметра Language

**Пример тела ответа ошибки валидации:**

```json
{
  "error_message": "Указанные данные недействительны",
  "error_type": "validation",
  "validation_errors": {
    "email": [
      "Электронная почта уже занята"
    ],
    "password": [
      "Пароль должен содержать не менее 8 символов",
      "Пароль должен быть подтвержден"
    ]
  }
}
```

### Ошибка авторизации - 401 Unauthorized

### Превышен лимит запросов - 429 Too Many Requests

### Общие error_type

| error_type | HTTP code | Описание |
| ------ | ------ | ------ |
| phone_confirmation | `400` | Текущему пользователю необходимо подтвердить номер телефона |
